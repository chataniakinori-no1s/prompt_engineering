---
seq: 61
title: 新たなクレームに高度なプロンプト戦略で挑む
slug: chapter05/work47
description: これまでに学んだステップバック、メタ認知、自己検証のスキルを総動員した実践的な課題に取り組む
type: practice
relation: chapter05/index,chapter05/work36,chapter05/39,chapter05/42
difficulty: 4
displayLanguage: ja
duration: 10
---

# 【実践課題】新たなクレームに高度なプロンプト戦略で挑む

:::exercise
## 課題3: 提案の信頼性を固める (自己検証の応用)

**【あなたのタスク】**
AIとの対話を通じて、カスタム辞書機能のDB設計はより洗練されたものになりました。高橋さんは、この設計をチームに共有するための簡単な技術説明ドキュメントをAIに作成させました。

**▼ AIが作成した技術説明（初稿）**

> **カスタム辞書機能のDB設計について**
> 今回の機能では、ユーザー辞書を格納するため、`user_dictionaries`テーブルを新設します。このテーブルは、`source_term`（原文）と`target_term`（訳文）のカラムを持ち、B-treeインデックスを`source_term`に付与することで、高速な検索を実現します。

この説明は簡潔ですが、なぜこの設計が最適なのか、他の選択肢はなかったのか、という点については触れられていません。
:::

:::Hint
ワーク3で学んだ**「自己検証」**を使い、AIに文章の論理的な正当性を自己評価させましょう。今回は**「提案された技術に対して、常にあえて代替案を考える、批判的な視点を持つアーキテクト」**というペルソナを与え、その視点から文章をレビューさせます。「このDB設計の説明を読んで、あなたが『なぜその技術選択なのですか？他の方法も考えられますよね？』と反論したくなるであろう点を指摘してください。その上で、その反論に備える形で、なぜこの設計が合理的であるかを補強する説明を追記してください」と指示することで、技術選定の理由が明確になり、チームの合意形成を円滑にするドキュメントを完成させることができます。

:::

<details>
<summary>【実践課題】プロンプト例とAI回答出力例</summary>

### ▼ 課題3プロンプト例

```
この技術説明をありがとうございます。

> **カスタム辞書機能のDB設計について**
> 今回の機能では、ユーザー辞書を格納するため、`user_dictionaries`テーブルを新設します。このテーブルは、`source_term`（原文）と`target_term`（訳文）のカラムを持ち、B-treeインデックスを`source_term`に付与することで、高速な検索を実現します。

では最後に、この説明をレビューしてください。
あなたは、提案された技術に対して、常にあえて代替案を考える、批判的な視点を持つアーキテクトです。
この説明を読んで、「なぜその技術選択なのですか？他の方法も考えられますよね？」と反論したくなるであろう点を指摘してください。

その上で、その反論に備える形で、なぜこの設計が合理的であるかを補強する説明を追記してください。

```

### ▼ 課題3 AI回答出力例

```
承知いたしました。アーキテクトとして、この技術説明の弱点を指摘し、補強します。

### 弱点の指摘
この説明では、「なぜ辞書データをRDB（リレーショナルデータベース）に格納するのか」という、最も根本的な設計判断の理由が述べられていません。
私ならこう反論します。「辞書のような単純なKey-Valueストアなら、RDBよりもRedisやDynamoDBのようなNoSQLデータベースの方が、読み取り性能も高く、スケーラビリティにも優れているのではありませんか？」

### 説明の補強案
この反論に備え、以下のように説明を補強することを提案します。

**【改善後】カスタム辞書機能のDB設計について**

今回の機能では、ユーザー辞書を格納するため、**既存のMySQL（RDB）内に**`user_dictionaries`テーブルを新設します。

**【技術選定の理由】**
辞書データのようなKey-Value形式のデータストアには、RedisのようなNoSQLデータベースも選択肢として考えられます。しかし、今回は以下の理由から、既存のRDBを利用することが最も合理的であると判断しました。

1.  **開発スピードの優先**: 新たなミドルウェア（Redis等）を導入する場合、環境構築、運用監視、学習コストが発生します。今回は、まず顧客価値を迅速に提供することを最優先とし、使い慣れたRDBを選択します。
2.  **データの一貫性と管理の容易さ**: ユーザー情報など、他のデータと一貫性を保ったバックアップや管理が可能です。
3.  **将来的な拡張性**: 将来的には、企業単位での共有機能や、単語の承認ワークフローといった複雑な機能追加が予想されます。こうしたリレーショナルな要件には、RDBの方が柔軟に対応できます。

テーブルには、`source_term`（原文）と`target_term`（訳文）のカラムを持ち、B-treeインデックスを`source_term`に付与することで、RDBでも十分に高速な検索を実現します。
```

</details>
