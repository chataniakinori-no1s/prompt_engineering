# ワーク3: 出力形式をコントロールする - Markdown, JSON, 表形式での出力指定

## サンプル課題

管理部の塚本さんは、ワーク1と2で作成した「AI推進担当者」の求人要項の要点を、いくつかの目的で使い回したいと考えています。

まず、塚本さんは手元にある求人要項の要点（情報）を、AIを使って整理することにしました。

```
# 情報
AI推進担当者の求人要項の要点：
このポジションのミッションは、AI活用による全社的な業務改革のエンジンとなることです。具体的な業務内容には、社内問い合わせ対応の自動化、主力商品の需要予測モデルの構築、顧客アンケートの分析などが含まれます。必須スキルはPythonとSQLの経験で、歓迎スキルとしてクラウド（AWS, Azure, GCP）やLLMの知見が挙げられます。
```

---

**【ステップ1】まずはシンプルに、AIに情報をまとめてもらう**

塚本さんは、まずこの情報をシンプルに要約してみることにしました。

```
# 指示
上記の「AI推進担当者」の求人要項の要点をまとめてください。
```
**▼ AIの回答**
> AI推進担当者は、AIを活用して全社の業務改革を推進する重要な役割を担います。主な業務には、社内問い合わせの自動化、需要予測モデルの構築、顧客アンケート分析などがあります。求められるスキルはPythonとSQLで、クラウドやLLMの知識がある方は歓迎されます。

**【ステップ2】目的を考え、箇条書きで整理し直す**

文章での要約は得られましたが、塚本さんは「社内の関係者に、このポジションの魅力を手早く説明するには、少し分かりにくいかも…」と感じました。そこで、**目的**を「魅力を分かりやすく伝えること」に定め、今度は**箇条書き**という形式を指定して、再度AIに指示を出しました。

```
# 指示
上記の「AI推進担当者」の求人要項の要点から、このポジションの魅力を**Markdown形式の箇条書き**でまとめてください。
```
**▼ AIの回答**
> ### 「AI推進担当者」ポジションの魅力
> 
> - **変革の主役になれる**: 全社の業務改革をエンジンとして牽引する、非常にやりがいのあるミッションです。
> - **多彩なプロジェクト経験**: チャットボット開発、需要予測、データ分析など、事業の根幹に関わる多様なプロジェクトに携わることができます。
> - **市場価値の高いスキルセット**: Python、SQL、クラウド、LLMといった、今後さらに需要が高まる専門知識を深め、活用できます。

**【ステップ3】さらに別の目的のため、表形式で整理し直す**

箇条書きで魅力が分かりやすくなり、満足した塚本さん。しかし今度は、「採用エージェントに求めるスキルを的確に伝えたい」という**別の目的**が生まれました。箇条書きでは必須スキルと歓迎スキルが混ざって見えます。そこで、両者を明確に分けるため、**表形式**を指定して指示を出すことにしました。

```
# 指示
上記の「AI推進担当者」の求人要項の要点から、必須スキルと歓迎スキルを**Markdown形式の表**でまとめてください。
```
**▼ AIの回答**
> | スキル種別 | 具体的なスキル |
> | :--- | :--- |
> | 必須スキル | Python, SQL |
> | 歓迎スキル | クラウド（AWS, Azure, GCP）, LLMの知見 |

このように、塚本さんは**「目的」に応じて「出力形式」を変える**ことで、同じ情報から3つの異なる、価値あるアウトプットを引き出すことができました。

## 解説

### なぜ出力形式の指定が重要か？

AIは、特に指示がなければ、人間が話すような自然な文章（散文形式）で回答を生成します。これはこれで分かりやすいのですが、サンプル課題の塚本さんのように、特定の目的で情報を使いたい場合には不便なことがあります。

-   **情報が見つけにくい**: 長い文章の中から、特定の情報を探し出すのが大変。
-   **比較しにくい**: 複数の項目を比較検討したい場合、情報が整理されていないと分かりにくい。
-   **プログラムで扱いにくい**: 文章をプログラムで自動処理したい場合、構造化されていないテキストは解析が難しい。

出力形式を明確に指定することで、これらの問題を解決できます。

### 代表的な出力形式

ビジネスシーンでよく使われる代表的な出力形式を覚えておきましょう。

1.  **Markdown（マークダウン）**
    -   `#`で見出し、`-`や`*`で箇条書きなど、簡単な記号で文章を構造化できる記法です。
    -   **用途**: レポート、議事録、ブログ記事など、人間が読むための文書を分かりやすく整理したい場合に最適です。SlackやTeamsなど多くのツールでサポートされています。

2.  **表形式（テーブル）**
    -   情報を「行」と「列」で整理した形式です。Markdown記法を使って表を作成させることもできます。
    -   **用途**: 複数の項目のスペックや特徴などを一覧で比較したい場合に非常に有効です。

3.  **JSON（ジェイソン）**
    -   `{"キー": "値"}` の形式でデータを記述する、プログラムでの扱いやすさに特化したデータ形式です。
    -   **用途**: AIの出力を別のシステムやプログラムに連携させたい場合に利用します。

4.  **文字数指定**
    -   文章全体の長さを指定する形式です。
    -   **用途**: SNSへの投稿や、プレゼン資料の要約など、文字数に制限がある場合に有効です。
    -   **指示の例**: `300字以内で要約して` `140字以内でキャッチコピーを考えて`

:::_ Point(出力形式の指定は「情報の整理整頓」)
出力形式を指定することは、AIに対して「このルールで情報を整理整頓してください」とお願いするようなものです。目的に合った形式を指定することで、アウトプットの価値を大きく高めることができます。
:::

#### Warning
特に表形式やJSON形式など、厳密なルールを持つ形式を要求した場合、AIが完璧な形式で出力しないこともあります。例えば、表の列がズレたり、JSONの最後のカンマが抜けたりすることがあります。その場合は、間違いを指摘して修正させるか、プロンプトを少し変えて再試行することが有効です。


---
### 練習問題1
**【シチュエーション】**
管理部の塚本さんは、新入社員向けに、社内で使われている3つの主要コミュニケーションツールの使い分けを説明する資料を作成したいと考えています。

1つ目はチーム内の日常的なやり取りに使う**「Slack」**で、ポイントは**気軽に素早くやり取りできる**ことです。
2つ目はWeb会議とそれに付随するファイル共有に使う**「Microsoft Teams」**で、**ビデオ会議の品質の高さ**が売りです。
3つ目は社外の顧客との正式なやり取りに使う**「Eメール」**で、**フォーマルなコミュニケーションに適している**ことが特徴です。

この情報を、新人が一目で理解できるように、表形式でまとめさせたいと考えています。

さあ、実際にChatGPTやGeminiなどの対話AIを使って、この情報を分かりやすい表にまとめるプロンプトを作成してみましょう。

### Hint
AIに表を作成させるには、「表形式で出力して」とストレートに伝えるのが基本です。さらに、「『ツール名』『主な用途』『ポイント』を列とする表を作成してください」のように、**表の列（項目名）を具体的に指定する**と、より意図通りの表が出力されやすくなります。

### 練習問題1プロンプト例
```
以下の社内コミュニケーションツールの情報を、Markdown形式の表でまとめてください。
表の列は「ツール名」「主な用途」「ポイント」としてください。

- **ツール1**: Slack。主な用途は、チーム内の日常的なテキストコミュニケーション。ポイントは、気軽に素早くやり取りできること。
- **ツール2**: Microsoft Teams。主な用途は、Web会議と、会議に付随するファイル共有。ポイントは、ビデオ会議の品質が高いこと。
- **ツール3**: Eメール。主な用途は、社外の顧客との正式なやり取り。ポイントは、フォーマルなコミュニケーションに適していること。
```

### 練習問題1AI回答出力例
> | ツール名 | 主な用途 | ポイント |
> | :--- | :--- | :--- |
> | Slack | チーム内の日常的なテキストコミュニケーション | 気軽に素早くやり取りできる |
> | Microsoft Teams | Web会議と、会議に付随するファイル共有 | ビデオ会議の品質が高い |
> | Eメール | 社外の顧客との正式なやり取り | フォーマルなコミュニケーションに適している |

---
### 練習問題2
**【シチュエーション】**
塚本さんは、先ほどの3つのコミュニケーションツール情報を、今度は社内システムのデータベースに登録するために、プログラムで読み込める形式で出力したいと考えています。システム担当者からは、「`tool_name`」「`primary_use`」「`feature`」というキーを持つJSON形式でデータが欲しいと言われています。

さあ、実際にChatGPTやGeminiなどの対話AIを使って、先ほどのツール情報をJSON形式で出力させるプロンプトを作成してみましょう。

### Hint
JSON形式で出力させるには、「JSON形式で出力してください」という直接的な指示が有効です。さらに、「`tool_name`、`primary_use`、`feature`というキーを持つオブジェクトの配列としてください」のように、**JSONの構造（キーの名前や、配列にするかどうか）を具体的に指定する**ことで、プログラムでそのまま使える、より正確なデータを得ることができます。

### 練習問題2プロンプト例
```
以下の3つのコミュニケーションツールに関する情報を、指定されたキーを持つJSON形式で出力してください。

# 情報
- ツール名: Slack, 主な用途: チーム内の日常的なテキストコミュニケーション, ポイント: 気軽に素早くやり取りできる
- ツール名: Microsoft Teams, 主な用途: Web会議とファイル共有, ポイント: ビデオ会議の品質が高い
- ツール名: Eメール, 主な用途: 社外との正式なやり取り, ポイント: フォーマルなコミュニケーションに適している

# 出力形式
- 全体を配列（`[]`）とする。
- 各ツールを一つのオブジェクト（`{}`）で表現する。
- 各オブジェクトは以下のキーを持つこと。
  - `tool_name`
  - `primary_use`
  - `feature`
```

### 練習問題2AI回答出力例
```json
[
  {
    "tool_name": "Slack",
    "primary_use": "チーム内の日常的なテキストコミュニケーション",
    "feature": "気軽に素早くやり取りできる"
  },
  {
    "tool_name": "Microsoft Teams",
    "primary_use": "Web会議とファイル共有",
    "feature": "ビデオ会議の品質が高い"
  },
  {
    "tool_name": "Eメール",
    "primary_use": "社外との正式なやり取り",
    "feature": "フォーマルなコミュニケーションに適している"
  }
]
```

---
お疲れ様でした。これでワーク3は終了です。
次の【実践課題】では、この章で学んだ「役割・背景・条件」「具体性」「出力形式の指定」のすべてを使って、AI推進担当者の求人要項を完成させるプロンプトを作成してみましょう。
