### 【実践課題】: AIと共に進める新機能開発

お疲れ様でした。いよいよこの章の総仕上げです。
これまでに学んだ「技術調査」「設計書作成」「ログ解析」のスキルを総動員し、新たな機能開発の初期段階をAIと共に進める一連のタスクに挑戦しましょう。

---
**【シチュエーション】**

あなたは、ソフトウェアエンジニアの高橋さんと同様の立場にいます。
上司であるプロジェクトマネージャーから、次の新機能開発の担当を任されました。

> **上司からの依頼:**
> 「次のスプリントで、ユーザーが画像をアップロードしたら、その画像に写っているものをAIが自動で認識し、タグ付けする機能を開発したい。まずは、この機能が技術的に実現可能なのか、どんな技術を使うのが良さそうか、調査から設計の草案作成、そして簡単なリスク分析までを君に任せたい。」

この依頼を受け、あなたはこの章で学んだスキルを使い、AIをアシスタントとして開発の初期フェーズを進めていくことにしました。

---

### 課題1: 技術調査 (ワーク1の応用)

まず、機能のコアとなる画像認識APIを選定する必要があります。

**【あなたのタスク】**
主要な画像認識APIである「Google Cloud Vision API」と「Amazon Rekognition」の2つについて、どちらが今回の機能に適しているか判断するため、AIに比較・検討させるプロンプトを作成してください。

### Hint
AIに技術比較をさせる際は、ただ「比較して」と依頼するだけでは、望む情報が得られないことがあります。ワーク1で学んだように、**「どの技術を」「どんな観点で」「どのような形式で」**比較してほしいのかを具体的に指示することが、質の高いアウトプットを得るための鍵です。今回は「料金体系」「主要な認識機能」「日本語での情報量」という観点と、「Markdownのテーブル形式」という出力形式を指定してみましょう。

---

### 課題2: 設計書作成 (ワーク2の応用)

技術調査の結果、今回は「Google Cloud Vision API」を採用する方針を固めました。次に、この機能を実装するための基本的な設計をAIに考えさせます。

**【あなたのタスク】**
ユーザーがアップロードした画像とその解析結果を保存するための、データベーステーブル設計をAIに依頼するプロンプトを作成してください。

### Hint
AIに設計を依頼する際は、ワーク2で学んだように、必要な情報を過不足なく伝えることが重要です。今回は、テーブル名として`image_analysis_logs`を指定し、**「どのユーザーが(user_id)」「何の画像を(image_url)」「どう解析したか(tags)」「結果はどうだったか(status)」**という、機能の要件を満たすために最低限必要なカラムを具体的に指示してみましょう。特に「tags」のように複数の値を保持したいカラムについては、その旨を補足するとより精度の高い回答が期待できます。

---

**▼ 課題２プロンプト例**
```
あなたは、データベース設計の経験が豊富なバックエンドエンジニアです。
「Google Cloud Vision API」を利用した画像自動タグ付け機能を実装します。
この機能のために、ユーザーがアップロードした画像と、その解析結果を保存するデータベーステーブルの設計をしてください。

# 設計要件
- テーブル名は `image_analysis_logs` とします。
- 以下の情報が保存できるようにしてください。
  - どのユーザーがアップロードしたか (user_id)
  - 元の画像のURL (image_url)
  - AIによって付与されたタグのリスト (tags) ※このカラムは複数のタグを保持できる必要があります。
  - 解析処理が成功したか失敗したか (status)

# 出力形式
Markdown形式のテーブルで、カラム名、データ型、制約、簡単な説明を記載してください。
```

---

### 課題3: ログ解析 (ワーク3の応用)

設計に基づき簡単なテストコードを動かしたところ、API連携部分で以下のエラーログが出力されました。

**▼ 出力されたエラーログ**
```json
{
  "error": {
    "code": 401,
    "message": "Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See [https://developers.google.com/identity/sign-in/web/devconsole-project](https://developers.google.com/identity/sign-in/web/devconsole-project).",
    "status": "UNAUTHENTICATED"
  }
}
```

**【あなたのタスク】**
このエラーログの原因を特定し、考えられる対策をAIに提案させるプロンプトを作成してください。

### Hint
AIは、関連性の高い背景情報（コンテキスト）を具体的に与えるほど、精度の高い推論を行います。ワーク3で学んだように、「このエラーメッセージは何？」と聞くだけでなく、**「どのAPIを呼び出した際に」「どんな状況で」**このエラーが出たのか、という**コンテキスト（背景情報）**を具体的に与えることが、的を射た回答を引き出すための鍵となります。今回は、エラーログに加えて「Google Cloud Vision APIを呼び出した際に発生した」という情報を添えてみましょう。

---

**▼ 課題１プロンプト例**
```
あなたは、クラウドサービスに詳しいソフトウェアエンジニアです。
現在、Webサービスに「画像認識による自動タグ付け機能」を実装するための技術選定を行っています。

主要な画像認識APIである「Google Cloud Vision API」と「Amazon Rekognition」について、以下の観点で比較し、結果をMarkdownのテーブル形式でまとめてください。

# 比較の観点
- 料金体系
- 主要な認識機能（物体検出、ラベル検出など）
- 日本語での情報量（ドキュメントや技術ブログの多さ）
```

---

**▼ 課題２プロンプト例**
```
あなたは、データベース設計の経験が豊富なバックエンドエンジニアです。
「Google Cloud Vision API」を利用した画像自動タグ付け機能を実装します。
この機能のために、ユーザーがアップロードした画像と、その解析結果を保存するデータベーステーブルの設計をしてください。

# 設計要件
- テーブル名は `image_analysis_logs` とします。
- 以下の情報が保存できるようにしてください。
  - どのユーザーがアップロードしたか (user_id)
  - 元の画像のURL (image_url)
  - AIによって付与されたタグのリスト (tags) ※このカラムは複数のタグを保持できる必要があります。
  - 解析処理が成功したか失敗したか (status)

# 出力形式
Markdown形式のテーブルで、カラム名、データ型、制約、簡単な説明を記載してください。
```

---

**▼ 課題３プロンプト例**
```
あなたは、クラウドAPI連携のトラブルシューティングを専門とするエンジニアです。
以下のエラーログについて、原因と解決策を分析してください。

# コンテキスト
- Google Cloud Vision API を呼び出した際に、このエラーレスポンスが返ってきました。

# エラーログ
{
  "error": {
    "code": 401,
    "message": "Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.",
    "status": "UNAUTHENTICATED"
  }
}
# 指示
このエラーの原因として考えられることを、箇条書きで複数挙げてください。また、それぞれの原因に対する具体的な解決策も提示してください。
```