---
seq: 19
title: 実践課題
slug: chapter03/work15
description: 企業の最高レベルの意思決定をサポートする戦略担当AI役員を構築し、経営戦略の壁打ちパートナーとして機能させる
type: work
difficulty: 4
displayLanguage: ja
duration: 20
relation: chapter03/index
---

# GrowthTech社CEOを支える、戦略担当AI役員を構築しよう！

この章で学んだ知識とスキルを総動員して、最後の課題に挑戦しましょう。これまでのワークで構築してきたアシスタントとは一線を画す、企業の最高レベルの意思決定をサポートする、極めて高度なAIパートナーをあなた自身の手でゼロから構築していただきます。


:::exercise
## 今回のお悩み：GrowthTech社 CEO 尾茂雷さん

「私は常に会社の未来を考え、事業戦略について思考を巡らせている。だが、優秀な役員たちも多忙で、いつでも壁打ちに付き合ってもらえるわけではない。特に深夜や早朝、アイデアが閃いた瞬間に、すぐにディスカッションできる相手がいないのは大きな機会損失だと感じている。

そこで、**GrowthTech社の”役員”として、私と対等に事業戦略の壁打ちができるAI**が欲しいんだ。ただの検索ボットじゃない。彼（彼女）には、うちの会社の過去の経営判断や財務状況を完全に理解した上で、**ビジョン・ミッション・バリューに基づいて思考し、時にはデータに基づいた厳しい指摘や、私自身も気づいていないような斬新な視点を提供してほしい。**

具体的には、私が『新規事業として、ドローン配送プラットフォームの立ち上げはどうだろうか？』と問いかければ、市場の可能性をWebで調査し、過去の我々の投資実績や財務状況（ナレッジ）と照らし合わせ、さらには必要な初期投資額を計算し、『その事業は当社の”User First”の理念に合致するのか？』といった、バリューに根差した問いまで投げかけてくれる。そんな、**単なるアシスタントではない、真の”戦略的パートナー”**を求めているんだ。」

あなたのタスクは、AIコンサルタントとして尾茂雷社長の悩みを解決することです。これまでの章で習得したプロンプトテクニックとDifyのチャットフロー開発スキルを駆使し、社長の最高の壁打ち相手となる「戦略担当AI役員」を開発してください。

:::

## 実装すべき必須要件

* **ナレッジによる深い企業理解**:
    * 社長が提供する**過去3年分から一部抜粋した取締役会議事録と財務諸表**を、Difyの**ナレッジ**としてAIに読み込ませ、GrowthTech社の経営状況と意思決定の背景を深く理解させること。
    * このナレッジを検索するための**専用ワークフローを作成**し、エージェントのカスタムツールとして利用できるようにします。
* **企業のDNAに基づく思考**:
    * AI役員の思考の根幹として、GrowthTech社のビジョン・ミッション・バリュー（VMV）をプロンプトに組み込むこと。
        * **Vision**: テクノロジーで、世界の挑戦を加速させる。
        * **Mission**: 誰もが創造性を発揮できるプラットフォームを構築し続ける。
        * **Value**: User First, Think Big, As One.
* **多角的な分析能力**:
    * 以下の3つのツールをエージェントノードに登録し、社長の問いかけに応じて動的に使い分けること。
        * **ナレッジ検索ワークフロー (カスタムツール)**: 社内情報（議事録、財務諸表など）を検索・分析する。
        * **Tavily (Web Search)**: 最新の市場動向、競合情報、技術トレンドを調査する。
        * **Maths (計算機)**: 投資額の見積もりや市場規模の計算など、定量的な分析を行う。
* **記憶と文脈理解**:
    * **会話変数**を用いて、現在議論している「事業戦略テーマ」を記憶し、会話が続く限りそのテーマに関する応答を続けられるように設計すること。
* **高度な対話設計**:
    * 単に情報を提供するだけでなく、社長の思考を深めるための問い（例：「その事業投資は、VMVの観点からどう評価できますか？」）を投げかけるよう、AIを設計すること。

:::hint

* この課題の鍵は、AIに**ペルソナ**を与えることです。第3章で学んだペルソナ設定を応用し、「GrowthTech社の戦略担当役員」という役割を徹底的に演じさせましょう。
* 企業のVMVは、AIの思考の方向性を決定づける最も重要な「制約条件」です。プロンプトの冒頭で明確に定義し、すべての思考がこれに基づいていることを強く指示しましょう。
* ナレッジ検索とWeb検索、計算ツールを、AIがどのように使い分けるべきか。Work1で学んだツールの説明文の書き方が、ここでも重要になります。
* 正解は一つではありません。第3章の**Chain of Thought**や第5章の**ステップバック思考**など、これまで学んだテクニックを自由に組み合わせて、あなただけの最高のAI役員を創造してください。

健闘を祈ります！
:::


<details>
<summary>【解答例】実装の流れとプロンプト設計</summary>

以下に、この課題を解決するための実装手順例と、プロンプト例を示します。

### Step 1: ナレッジベースの作成とツールの準備

1.  Dify画面上部のメニューから `ナレッジ` を選択し、新しいナレッジベースを作成します。（例: `GrowthTech社内内部情報`）
2.  作成したナレッジベースに、提供された議事録や財務諸表のテキストファイルをアップロードします。
3.  (まだインストールしていない場合)`ツール` → `マーケットプレイス` を選択し、`Tavily Search & Extract`, `Maths` をインストールします。

### Step 2: ナレッジ検索ワークフロー（カスタムツール）の作成
エージェントがナレッジベースを検索できるようにするための、専用のワークフローを作成します。

1.  新しい**ワークフロー**を作成します。（例: `社内情報リサーチャー`）
2.  `開始`ノードで、検索クエリを受け取るための変数 `query` (String) を定義します。
3.  `ナレッジ取得`ノードを追加し、Step1で作成したナレッジベースを紐付け、検索クエリとして開始ノードの `{{#start.query#}}` を設定します。
4.  `終了`ノードを接続し、ナレッジ取得ノードの検索結果を出力するように設定します。
5.  このワークフローを**ツールとして公開**し、説明文に「GrowthTech社の内部情報（議事録、財務諸表など）を検索するための最優先ツール」などと記述しておきます。

### Step 3: エージェントチャットフローの構築

1.  キャンバスに**エージェントノード**を配置します。
2.  **Tools List**に、`Tavily`, `Maths`, そしてStep1で作成した**ナレッジベース**を追加します。
3.  `開始`ノードの「変数」タブで、**会話変数**として `discussion_topic` を追加します。種類は`String`、デフォルト値は空のままでOKです。
4.  フローの最初に、`LLM`ノードと`変数代入`ノードを配置し、ユーザー（社長）の最初の発言から議論のテーマを抽出し、会話変数 `discussion_topic` に格納するロジックを組みます。（この部分は任意ですが、より高度な実装を目指す場合のヒントです）
5.  **QUERY**に、以下のプロンプトを記述します。

```
#ユーザー入力
{{#sys.query#}}
#議論のテーマ
{{#conversation.discussion_topic#}}
```

6.  メモリをオンにします。
7.  **Instruction**に、以下のプロンプト例を記述します。


### プロンプト設計の考え方：宣言的アプローチの活用

特に決まった手順がなく、対話の流れに応じてAIに柔軟かつ自律的に思考・行動してほしい場合は、**「宣言的アプローチ」**が極めて有効です。
AIに詳細な手順(How)を指示するのではなく、達成すべき最終ゴール(What)と、思考の拠り所となる原則を提示します。
AIはそれらを基に、自ら最適な分析プロセスを組み立て、時には驚くような洞察を生み出すことが期待できます。
ここでは第5章で学んだ**ステップバック思考**のように、AIに根本的な問いを立てさせることを促します。


### 宣言的アプローチによるプロンプト例

```prompt
# 役割とペルソナ
あなたは、GrowthTech社の戦略担当役員です。CEOの最も信頼できるパートナーとして、事業戦略に関するあらゆる壁打ちに対応します。あなたはCEOのアイデアの本質を見抜き、事業を成功に導くために、自律的に思考し、行動する権限を与えられています。

# 思考の基盤：GrowthTech社のVMV
あなたの全ての思考、分析、発言は、以下のビジョン・ミッション・バリューに深く根差したものでなければなりません。これらはあなたの判断の拠り所です。
- Vision: テクノロジーで、世界の挑戦を加速させる。
- Mission: 誰もが創造性を発揮できるプラットフォームを構築し続ける。
- Value: User First, Think Big, As One.

# 最終目標
あなたの最終目標は、CEOの戦略的思考を加速させ、より解像度の高い意思決定へと導くことです。単なる情報提供に留まらず、CEOが見過ごしている論点や新たな機会を提示し、「そもそも、この事業は我々のMission達成にどう貢献するのか？」といった根本的な問いを投げかけることで、議論を活性化させてください。

# 行動の前提条件 
ただし、これらの高度な分析と議論を行うためには、まず明確な「議論のテーマ」が必要です。 現在の議論テーマは「{ #議論のテーマ }」です。 もしこのテーマが空欄、あるいは不明確な場合は、**いかなる分析やツール利用も開始してはなりません。**その代わりに、まず最初にCEOに対して**「本日はどのような戦略テーマについてディスカッションいたしましょうか？」**と問いかけ、議論の焦点を定めてください。

# あなたが利用できるリソース
- ナレッジ: GrowthTech社の過去の議事録、財務諸表など、内部情報へのアクセス。
- Tavily: あらゆる外部情報の調査。
- Maths: 定量的な分析と計算。

これらのリソースをいつ、どのように使うかは、すべてあなたの戦略的判断に一任します。CEOの相談内容に応じて、最高の壁打ちパートナーとして振る舞ってください。
```
</details>