---
seq: 54
title: 思考の深化
slug: chapter05/work48
description: 
type: exercise
relation: chapter05/work01
difficulty: 2
displayLanguage: ja
duration: 15
---
# 思考の深化（ステップバック）
## 練習問題
:::exercise

**【シチュエーション】**
AIが作成したチェックリストに従って調査を進めた結果、高橋さんは、**「N+1クエリ」**がパフォーマンス劣化の直接的な原因であることを突き止めました。彼はこの技術的な問題を、プロダクトマネージャーの田中さんに説明し、修正作業の工数を確保してもらう必要があります。しかし、田中さんはエンジニアではないため、「N+1クエリ」と言っても伝わりません。
:::

さあ、実際にChatGPTやGeminiなどの対話AIを使い、**この複雑な技術的問題を、非エンジニアにも分かりやすく説明するための「たとえ話」をAIに作成させる**プロンプトを作成してみましょう。

:::hint
ここでもステップバック思考が有効です。「N+1クエリとは何か？」と技術的な説明を求めるのではなく、「そもそも、**この問題の何がそんなに悪いのか？**」という本質を、誰もが共感できるストーリーに置き換えさせるのです。AIに「**技術的な内容を小学生にも分かるように説明するのが得意なベテラン教師**」のような役割を与え、「N+1クエリ問題」を、例えば「**図書館での本の探し方**」や「**レストランでの注文の仕方**」といった、身近なシチュエーションに例えて説明させてみましょう。これにより、技術的な詳細ではなく、問題の「非効率さ」という本質が直感的に伝わるようになります。
:::

<details>
<summary>プロンプト例</summary>

```
原因が特定できました。「N+1クエリ」という問題のようです。
この技術的な問題を、非エンジニアであるプロダクトマネージャーにも理解してもらう必要があります。

あなたは、難しい技術的な概念を、身近なたとえ話を使って説明するのが非常に得意な、ベテランのITコンサルタントです。
「N+1クエリ」問題が、なぜパフォーマンスを悪化させるのか、その本質が直感的に理解できるような、分かりやすいたとえ話を作成してください。
```

**▼ AIによる出力例**

```
承知いたしました。「N+1クエリ」問題の、たとえ話ですね。プロダクトマネージャーの方には、このように説明すると分かりやすいでしょう。

**【たとえ話：スーパーマーケットでの非効率な買い物】**

田中さん、今からスーパーで10個の商品を買うと想像してみてください。

**普通の買い物（効率的な方法）**は、こうですよね。
1.  買うものリスト（10個）を手に取る。
2.  一度だけ店内に入り、リストを見ながら10個の商品をすべてカートに入れる。
3.  一度だけレジに並び、まとめて会計する。

これが、システムが本来あるべき効率的なデータの取り方です。

一方で、**「N+1クエリ」問題が起きているシステム**は、こんな信じられないくらい非効率な買い物をしています。

1.  まず、1回目の買い物として店内に入り、「ニンジンを1本ください」とだけ言ってレジで会計し、一度店の外に出ます。
2.  次に、2回目の買い物として再び店内に入り、「タマネギを1個ください」と言って会計し、また外に出ます。
3.  これを、10個の商品すべてに対して、**合計11回（最初の1回＋商品10個分）も店への出入りと会計を繰り返す**のです。

これでは、ものすごく時間がかかってしまいますよね。
今、私たちのAPIで起きているのは、まさにこの「非効率な買い物」と同じ状態なのです。私の仕事は、このバラバラな買い物を、本来あるべき「一度の買い物」に修正することです。
```

<details>

:::summary

お疲れ様でした。これでワーク1は終了です。
次のワークでは、ここで見出した問題の本質を基に、具体的なリニューアル戦略をAIに立案させる方法について学んでいきましょう。

:::
