---
seq: 61
title:  【実践課題】新たなクレームを`ステップバック`プロンプトで探る
slug: chapter05/work55
description: これまでに学んだステップバック、メタ認知、自己検証のスキルを総動員した実践的な課題に取り組む
type: practice
relation: chapter05/index,chapter05/work36,chapter05/work39,chapter05/work42
difficulty: 4
displayLanguage: ja
duration: 45
---

# 【実践課題】新たなクレームを`ステップバック`プロンプトで探る

:::exercise

**【シチュエーション】**

リアルタイム翻訳の処理に時間が掛かり過ぎていた課題については、パフォーマンスが改善されたと顧客から報告があったようです。
しかし一難去ってはまた一難。再び田中さんが慌てた様子でオフィスに入ってきて、高橋さんに声をかけました。
田中さんから報告される新しい課題に対し、これまで学んだ3つのプロンプトテクニック（ステップバック、メタ認知、自己検証）を一つずつ活用して、課題解決に導くプロンプトを作成してみましょう。

**田中さん:**
> 「高橋さん、APIは速くなって本当に助かりました。でも今度は別のお客様から、『翻訳の品質』に関する新しいクレームが来てまして。`専門用語や、うちの会社独自の固有名詞の翻訳が、意味不明な言葉になってしまう。これでは海外の支社と正確なコミュニケーションが取れず、かえって業務に支障が出ている`とのことなんです。何か良い手はないですか？」

**高橋さんの返答:**
> 「なるほど、速度の次は『品質』ね…。確かに、汎用的な翻訳APIだと専門用語の翻訳精度には限界がありますね。単語を登録できるような機能追加が必要だと思います。でも本当にそれが最適解なのかな…。」

### 課題1: 問題の本質を探る (ステップバック)

**【あなたのタスク】**
田中さんからの「専門用語の翻訳品質を上げてほしい」という要望に対し、すぐに「ユーザー辞書機能を作ろう」と解決策に飛びつくのは危険です。まずは一歩引いて、この問題の本質と、考えられるアプローチの全体像を把握した上で判断する必要があります。
ステップバックを組み込んだプロンプトを作成し、高橋さんをサポートしましょう。
:::

:::hint
この章で学んだ**「ステップバック」**の考え方を実践します。AIにいきなり解決策を求めるのではなく、まずは**「そもそも、この問題を技術的に解決するには、どのようなアプローチが考えられるか？」**という、より上位の問いを投げかけてみましょう。AIに**「翻訳システムを専門とする熟練エンジニア」**の役割を与え、「専門用語の翻訳精度を向上させるための技術的アプローチを、複数の異なる観点から網羅的に洗い出してください」と依頼することで、あなたが思いもよらなかった解決策の選択肢を得られ、技術選定の視野を広げることができるかもしれません。
:::


<details>
<summary>【実践課題】プロンプト例とAI回答出力例</summary>

### ▼ 課題1プロンプト例

```text
# 役割
あなたは、翻訳システムを専門とする熟練のエンジニアです。

# 背景
当社のサービスとして提供している翻訳APIで、「専門用語や固有名詞の翻訳精度が低い」という問題が起きています。裏側ではDeepLのAPIを使用しています。

# 指示
まずはこの問題の本質を一歩引いて考えてみてください。
次に、その問題を解決するために技術的に考えられるアプローチを、できるだけ網羅的に挙げてください。
それぞれの方法について、どのような技術で、どのようなメリット・デメリットがあるのかを簡潔に説明してください。
```

### ▼ 課題1 AI回答出力例

```markdown
# 翻訳APIにおける専門用語・固有名詞の翻訳精度問題へのアプローチ

## 1. 問題の本質

まず、この問題の本質を捉えましょう。DeepLのような汎用的なニューラル機械翻訳（NMT）モデルは、インターネット上の膨大なテキストデータを学習しています。そのため、一般的な文章や会話の翻訳精度は非常に高いです。

しかし、その反面、特定の専門分野（医療、法律、ITなど）の**専門用語**や、市場に出たばかりの製品名・企業名といった**固有名詞**は、学習データ全体から見れば出現頻度が低くなります。

その結果、モデルはこれらの用語に対して以下のような挙動を示しがちです。

* **未知語として処理:** 文脈から意味を類推しようとして、不自然な直訳や意訳をしてしまう。
* **多義語の誤訳:** 一般的な意味合いで訳してしまい、専門分野での意味を取り違える。（例：IT分野の "legacy" を「遺産」と訳してしまう）
* **訳の不統一:** 同じ用語でも、文脈によって訳語がバラバラになる。

したがって、問題の本質は**「汎用モデルの知識と、我々が求める専門領域の知識との間に存在するギャップ」**にあると言えます。このギャップをどう埋めるかが、解決策の鍵となります。

---

## 2. 解決アプローチの網羅的リスト

この問題を解決するために考えられる技術的アプローチを、実装の容易さやROI（投資対効果）を考慮して段階的に分類し、網羅的に挙げます。

### アプローチ1：DeepL APIの標準機能を最大限に活用する

まずは、追加の開発コストを最小限に抑えつつ、DeepLが提供する機能を活用する方法です。

| 方法 | 概要と技術 | メリット | デメリット |
| :--- | :--- | :--- | :--- |
| **用語集 (Glossary) 機能** | DeepL APIに搭載されている、単語やフレーズの訳し方を指定する機能。事前に「原文」と「訳文」のペアをCSV形式などで登録しておくことで、翻訳時にそのルールが適用されます。 | **実装が最も容易**: APIの標準機能であり、すぐに試せる。<br>**高い精度**: 固有名詞や専門用語の訳を確実に固定・統一できる。<br>**メンテナンス性**: 用語の追加・修正が比較的簡単。 | **管理コスト**: 用語集の作成と継続的なメンテナンスが必要。<br>**網羅性**: 登録していない用語には当然ながら効果がない。<br>**文脈無視**: 文脈によっては、指定した訳語が不自然になる可能性もゼロではない。 |
| **XMLタグによる翻訳対象の制御** | `splitting_tags` や `ignore_tags` といったパラメータを利用し、特定の単語やフレー句をXMLタグで囲むことで、翻訳の対象から除外したり、文の分割単位として扱われないように保護したりする手法。 | **固有名詞の保護**: 翻訳してほしくない製品名やコード名などを原文のまま維持できる。<br>**柔軟性**: 用語集と組み合わせることで、より高度な制御が可能。 | **事前処理が必要**: APIにリクエストを送る前に、原文を解析して動的にタグを挿入するロジックを自前で実装する必要がある。<br>**複雑化のリスク**: タグ付けのルールが複雑になると、実装・保守コストが増大する。 |

### アプローチ2：独自実装による翻訳プロセスの拡張

次に、APIの前後に独自の処理を挟むことで、精度を向上させるアプローチです。

| 方法 | 概要と技術 | メリット | デメリット |
| :--- | :--- | :--- | :--- |
| **事前処理 (Pre-processing)**<br>**- プレースホルダー置換** | 翻訳前に、独自の辞書を用いて専門用語を `__TERM_1__` のようなユニークな識別子（プレースホルダー）に置換。翻訳後に、その識別子を対応する訳語に再置換する。 | **確実な保護**: 翻訳エンジンが用語を誤訳するリスクを完全に排除できる。<br>**エンジン非依存**: DeepL以外の翻訳エンジンにも応用できる汎用的な手法。 | **実装コスト**: 置換・再置換のロジックと、そのための辞書管理システムを自前で開発する必要がある。<br>**文法的な不自然さ**: 言語（特に格変化や性の概念がある言語）によっては、再置換後の文章の文法的な繋がりが不自然になる可能性がある。 |
| **事後処理 (Post-processing)**<br>**- 辞書ベースの機械的置換** | DeepLから返ってきた翻訳結果に対して、機械的に単語やフレーズを置換する。例えば「レガシー」を常に「レガシーシステム」に置換する、といったルールを適用する。 | **実装が比較的容易**: 事前処理に比べ、シンプルな文字列置換で実現できる場合が多い。<br>**特定の誤訳パターンに有効**: よくある決まった誤訳を修正するのに効果的。 | **文脈の無視**: 文脈を一切考慮しないため、不適切な置換を行い、かえって訳文を不自然にしてしまうリスクが非常に高い。<br>**柔軟性の欠如**: 多くのルールを定義する必要があり、メンテナンスが煩雑になりがち。 |

### アプローチ3：より高度な手法（外部サービスやモデルの活用）

現在のDeepL APIの枠を超え、より根本的な解決を目指すアプローチです。開発コストや運用コストは高くなりますが、最高の精度を追求する場合に選択肢となります。

| 方法 | 概要と技術 | メリット | デメリット |
| :--- | :--- | :--- | :--- |
| **翻訳モデルのファインチューニング** | Google Cloud AutoML TranslationやMicrosoft Custom Translatorといったサービスを利用し、自社の専門分野に特化した対訳データセット（例：過去の翻訳資産など）を追加学習させ、独自のカスタム翻訳モデルを構築する。 | **最高の翻訳精度**: 文脈を理解した上で、最も適切な専門用語の訳をモデル自身が生成できるようになる。<br>**訳の統一性**: モデル全体として、専門分野に最適化された一貫性のある翻訳が期待できる。 | **DeepLでは利用不可**: DeepLはモデルのカスタマイズを提供していないため、他の翻訳サービスへの乗り換えが必要。<br>**高コスト**: 大量の高品質な対訳データが必要。また、モデルの学習と運用に相応のコストがかかる。<br>**専門知識**: 機械学習に関する知見が求められる。 |
| **複数の翻訳エンジンの組み合わせ**<br>**(Ensemble)** | DeepLと、上記で作成したカスタム翻訳モデルなどを組み合わせる。例えば、専門用語が含まれる文章はカスタムモデルで、一般的な文章はDeepLで翻訳する、といったハイブリッドなシステムを構築する。 | **両方の長所を活かせる**: DeepLの汎用的な翻訳能力と、カスタムモデルの専門性を両立できる。<br>**リスク分散**: 一方のエンジンが不調な場合でも、もう一方でカバーできる可能性がある。 | **システムの複雑化**: どのエンジンを使うかを振り分けるロジックや、結果を統合する処理が必要になり、開発・運用コストが大幅に増加する。<br>**API利用料の増加**: 複数のAPIを呼び出すため、コストが増加する。 |

---

## 結論と推奨ステップ

以上の点を踏まえ、以下のステップで進めることを推奨します。

1.  **Step 1: 用語集機能の導入 (ROIが最も高い)**
    * まずは影響の大きい専門用語や固有名詞をリストアップし、DeepLの用語集機能を徹底的に活用します。これで多くの問題が低コストで解決する可能性があります。
2.  **Step 2: XMLタグの併用**
    * 用語集だけでは対応しきれない、原文のまま保持したい文字列（製品コードなど）に対して、XMLタグによる保護を実装します。
3.  **Step 3: 費用対効果の評価**
    * 上記2つの対策で、ビジネス要件を満たす精度が得られるかを評価します。
4.  **Step 4: 高度なアプローチの検討**
    * それでも精度が不十分な場合に限り、ファインチューニングが可能な他の翻訳サービスへの移行や、ハイブリッドシステムの構築といった、より高度で高コストなアプローチを検討します。

まずは、**「今あるツールを使い倒す」**ことから始めるのが、最も現実的で効果的な一手と言えるでしょう。
```
</details>
