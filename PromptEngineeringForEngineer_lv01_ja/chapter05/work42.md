---
seq: 56
title: 信頼性の向上（自己検証）- AIに提案書をレビューさせる
slug: chapter05/work42
description: AIに自己検証を行わせ、提案書の論理的な整合性と説得力を高めるテクニックを学ぶ
type: work
relation: chapter05/index
difficulty: 3
displayLanguage: ja
duration: 25
---

# 信頼性の向上（自己検証）- AIに提案書をレビューさせる

:::sample-quiz

## サンプル課題
システムエンジニアの高橋さん。ワーク2でAIとの対話を通じて、パフォーマンス改善のための複数の技術的アプローチ（Eager Loading, キャッシュ戦略など）のメリット・デメリットを深く理解しました。

> **高橋さんの思考:**
> 「AIとの議論のおかげで、まずは短期的な改善策として『Eager Loading』を実装し、中長期的には『キャッシュ戦略』の導入を検討するという、バランスの取れた方針が見えてきた。これをチームに提案するための、簡単な技術ドキュメントをAIに作ってもらったけど、本当にこれで完璧だろうか…？」

> **田中さんからのアドバイス:**
> 「高橋さん、そのドキュメント、すごく分かりやすいよ。ただ、僕のような非エンジニアから見ると、まだ少し専門用語が多いかもしれない。それに、他のエンジニアから『なぜその方法なの？』という鋭いツッコミが来た時に、しっかり答えられる準備も必要じゃないかな。」

AIが生成したアウトプットの信頼性を、AI自身に検証させる「自己検証」。この最終関門を突破し、誰が見ても納得できる鉄壁の技術ドキュメントを完成させましょう。
:::

## 解説

### AIに「自らの回答」の穴を塞がせる自己検証プロンプト

**自己検証**は、メタ認知をさらに一歩進め、AIが生成したアウトプットの**論理的な一貫性、正当性、説得力**を、AI自身に厳しくチェックさせるプロンプト技術です。これは、特に報告書や提案書、技術ドキュメントなど、第三者の合意形成が必要な文書を作成する際の、最終品質チェックとして絶大な効果を発揮します。

- **論理の飛躍や矛盾を発見**: 「この主張の根拠はどこにありますか？」「AとBの結論は、本当に関連性がありますか？」といった問いかけで、論理的な弱点をあぶり出します。
- **想定される反論への対策**: 「もしあなたがこの提案に反対の立場なら、どのような反論をしますか？」と尋ねることで、事前に弱点を補強し、質疑応答に備えることができます。
- **信頼性の向上**: AIによるセルフチェックのプロセスを経ることで、生成された文章の客観性と信頼性が大幅に向上します。

成功の鍵は、AIの回答を肯定的に受け入れるだけでなく、**あえて批判的な視点（クリティカルシンキング）**をAIに与え、自らの生成物に対する「あら探し」をさせることです。

## サンプル課題解答

**【シチュエーション】**
高橋さんは、チームに提案するため、「N+1クエリ問題の短期的な改善策として、Eager Loadingを実装する」という方針をまとめた技術説明ドキュメントの下書きをAIに作成させました。

**▼ プロンプト例（ステップ1: 技術説明ドキュメントの下書き作成）**

```
あなたは、チーム向けの技術ドキュメントを作成するのが得意なソフトウェアエンジニアです。
APIのパフォーマンスを低下させている「N+1クエリ」問題の短期的な改善策として、「Eager Loading」を実装する方針です。

この方針について、開発チーム内で合意形成するための、簡潔な技術説明ドキュメントを作成してください。
```

**▼ AIによる出力例（ドキュメントの下書き）**

```
### N+1クエリ問題の改善提案：Eager Loadingの導入

**1. 問題の概要**
現在、`/api/v1/translate`エンドポイントにおいて、ループ処理内で都度DBクエリが発行されるN+1クエリ問題が発生しており、これがパフォーマンス劣化の主原因となっています。

**2. 解決策**
短期的な改善策として、ORMフレームワークのEager Loading機能（例: `JOIN FETCH`）を導入します。これにより、ループ前に必要な関連データを一括で取得し、発行されるクエリ数を1回に最適化します。

**3. 期待される効果**
本対応により、DBへのクエリ発行回数が劇的に減少し、APIのレスポンスタイムが大幅に改善されることが期待されます。
```

**【シチュエーション（続き）】**

この下書きを見た高橋さんは、田中さんのアドバイスを思い出し、このドキュメントが本当に分かりやすく、説得力があるか不安になりました。そこで彼は、AIに自己検証をさせ、ドキュメントの品質をチェックすることにしました。

**▼ プロンプト例（ステップ2: 自己検証による信頼性向上）**

```
素晴らしい下書きをありがとうございます。最終化する前に、内容をレビューしてください。

あなたは、このプロジェクトの技術的背景に詳しくないプロダクトマネージャーの田中さんです。
今あなたが作成したこの技術説明ドキュメントを読んで、率直に「分かりにくい」と感じる点や、「なぜ？」と疑問に思う点を挙げてください。
その上で、あなたが完全に納得できるように、ドキュメントを修正してください。
```

**▼ AIによる出力例（自己検証と改善案）**

```markdown

承知いたしました。プロダクトマネージャーの田中として、このドキュメントをレビューします。

### PM 田中としてのレビュー

- **分かりにくい点1**: 「N+1クエリ」という言葉が、そもそも何が問題なのか直感的に分かりません。
- **分かりにくい点2**: 「Eager Loading」や「JOIN FETCH」が、なぜ解決策になるのか、その仕組みがイメージできません。
- **疑問点**: なぜこれが「短期的」な改善策なのですか？長期的な策は他にあるのでしょうか？

### ドキュメントの改善案

上記のレビューに基づき、以下のようにドキュメントを修正します。

### **【改善案】APIパフォーマンス改善のご提案：まずは「まとめ買い」でムダをなくしましょう！**

**1. 今、何が起きているか？（問題の概要）**
現在、翻訳APIは、データベースへのお願い（クエリ）を非常に非効率な方法で行っています。
ワーク1のたとえ話で言うと、**10個の商品を買うために、11回もスーパーへの出入りを繰り返している**状態です。これが、APIが遅い根本原因（N+1クエリ問題）です。

**2. どうやって解決するか？（解決策）**
まずは、この無駄な出入りをなくすため、**「Eager Loading（事前一括読み込み）」**という方法で、**最初に買うものリストを渡し、一度の入店で全ての商品をまとめてカートに入れる**ように修正します。これにより、データベースへのお願いは、たった1回で済むようになります。

**3. なぜ、これが「今」ベストな方法なのか？**
この方法は、既存の仕組み（ORMフレームワーク）の機能を活用するため、**比較的少ないコード修正で、迅速かつ確実に効果を出せる**という大きなメリットがあります。
もちろん、将来的には専用の高速な倉庫（キャッシュ）を用意するような、より大掛かりな改善も考えられますが、まずはこの「まとめ買い」作戦で、お客様が感じているストレスを最速で解消することが、最も賢明な判断だと考えています。

```

