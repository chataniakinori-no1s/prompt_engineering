---
seq: 47
title: ログ解析・デバッグ支援
slug: chapter04/work42
description: AIを活用した効率的なログ解析とデバッグのテクニックを学ぶ
type: work
relation: chapter04/index,chapter04/work30
difficulty: 3
displayLanguage: ja
duration: 15
---
# ログ解析・デバッグ支援
:::exercise
## 練習問題
**【シチュエーション】**
高橋さんは、ある特定のエラーについて、ログの情報だけでは原因が特定できずに困っています。テスト中にAPIを呼び出したところ、以下のエラーレスポンスが返ってきました。

**▼ エラーレスポンス**
```json
{
  "timestamp": "2025-07-31T14:30:00.123Z",
  "status": 403,
  "error": "Forbidden",
  "message": "Access Denied"
}
```
なぜアクセスが拒否されたのか、具体的な理由が分かりません。彼は、このAPIが**「社内ネットワークからのみアクセス可能」**で、**「リクエストヘッダーに有効な`X-Auth-Token`を含める必要がある」**という仕様であることを知っています。

さあ、AIにこの**エラーメッセージ**と、高橋さんが知っている**システムの仕様（コンテキスト）**の両方を与えて、**考えられる原因を複数推測させる**プロンプトを作成してみましょう。

:::

:::Hint
AIは、関連性の高い背景情報（コンテキスト）を具体的に与えるほど、精度の高い推論を行います。「このエラーメッセージは何？」と聞くだけでなく、「こういう仕様のシステムで、このエラーが出た。原因として何が考えられる？」と、背景情報を加えることが非常に重要です。
:::

<details>
<summary>練習問題 プロンプト例</summary>

```markdown
あなたは、API連携に関する問題解決の専門家です。
あるAPIを呼び出した際に、以下のエラーレスポンスが返ってきました。
このエラーの原因として考えられることを、箇条書きで複数挙げてください。

# エラーレスポンス

{
  "timestamp": "2025-07-31T14:30:00.123Z",
  "status": 403,
  "error": "Forbidden",
  "message": "Access Denied"
}


# 前提知識（コンテキスト）
* このAPIは、社内ネットワークからのみアクセスが許可されている。
* APIを呼び出す際、HTTPリクエストヘッダーに有効な`X-Auth-Token`を含める必要がある。
```

### AI回答出力例

```markdown
承知いたしました。`403 Forbidden`エラーについて、与えられたコンテキストを基に考えられる原因を推測します。

* **原因1: `X-Auth-Token`の不備**
    * リクエストヘッダーに`X-Auth-Token`が含まれていない。
    * `X-Auth-Token`の値が間違っている、または有効期限が切れている。
* **原因2: 不正なアクセス元IPアドレス**
    * APIを呼び出しているサーバーが、許可された社内ネットワークのIPアドレス範囲外にある。例えば、開発環境から誤って本番APIを呼び出しているケースなどが考えられます。
* **原因3: 権限不足**
    * `X-Auth-Token`は有効だが、そのトークンに紐づくユーザーやサービスアカウントが、呼び出そうとしているAPIのエンドポイントに対する実行権限を持っていない。
```

</details>

:::memo
お疲れ様でした。これで第4章の練習問題は終了です。
次のワークでは、この章で学んだスキルを試すための実践課題に挑戦しましょう。
:::
